---
$path: /404.html
$title: Page not Found (404)
components:
- bind
class: 404
stylesheet: pages/404.css

$localization:
    locales:
    - en
---

<section class="fourofour">
    <amp-state id="g">
    <script type="application/json">
    {
      "-1": "O",
      "1": "⚡",
      "p": 1
    }
    </script>
  </amp-state>
    <h1 [class]="max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3 ? 'hide' : 'show'">Uh oh! That's an error.</h1>
    <h1 [class]="max(tr,br,lc,rc,fd + c,bd + c,mc + c,mr + c) == 3 ? 'show' : 'hide'" class='hide'>⚡ wins!!!</h1>
    <h1 [class]="min(tr,br,lc,rc,fd + c,bd + c,mc + c,mr + c) == -3 ? 'show' : 'hide'" class='hide'>O wins!!!</h1>

    <p>The page you've requested can't be found. Why don't you browse around, or while you're here, play a game of tic-tac-toe made with AMP?</p>

    <div class="playingboard"> 
    <table>
        <tr>
          <td class="cell"><button on="tap:AMP.setState({
                    tr: tr + g.p,
                    lc: lc + g.p,
                    bd: bd + g.p,
                    b: {
                      a: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.a ? b.a : ""'
                      [class]='max(abs(tr),abs(lc),abs(bd + c)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.a || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
          <td class="cell cell-vert"><button on="tap:AMP.setState({
                    tr: tr + g.p,
                    mc: mc + g.p,
                    b: {
                      b: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.b ? b.b : ""'
                      [class]='max(abs(tr),abs(mc + c)) == 3 ? "grid-button win" : "grid-button in-play"' 
                      [disabled]='b.b || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
          <td class="cell"><button on="tap:AMP.setState({
                    tr: tr + g.p,
                    rc: rc + g.p,
                    fd: fd + g.p,
                    b: {
                      c: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.c ? b.c : ""'
                      [class]='max(abs(tr),abs(rc),abs(fd + c)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.c || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
        </tr>
        <tr>
          <td class="cell cell-horiz"><button on="tap:AMP.setState({
                    mr: mr + g.p,
                    lc: lc + g.p,
                    b: {
                      d: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.d ? b.d : ""'
                      [class]='max(abs(mr + c),abs(lc)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.d || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
          <td class="cell cell-horiz cell-vert"><button on="tap:AMP.setState({
                    c: c + g.p,
                    b: {
                      e: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.e ? b.e : ""'
                      [class]='max(abs(mr + c),abs(mc + c),abs(fd + c),abs(bd + c)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.e || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
          <td class="cell cell-horiz"><button on="tap:AMP.setState({
                    mr: mr + g.p,
                    rc: rc + g.p,
                    b: {
                      f: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.f ? b.f : ""'
                      [class]='max(abs(mr + c),abs(rc)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.f || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td>  
        </tr>
        <tr>
          <td class="cell"><button on="tap:AMP.setState({
                    br: br + g.p,
                    lc: lc + g.p,
                    fd: fd + g.p,
                    b: {
                      g: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.g ? b.g : ""'
                      [class]='max(abs(br),abs(lc),abs(fd + c)) == 3 ? "grid-button win" : "grid-button in-play"' 
                      [disabled]='b.g || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td> 
          <td class="cell cell-vert"><button on="tap:AMP.setState({
                    br: br + g.p,
                    mc: mc + g.p,
                    b: {
                      h: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.h ? b.h : ""'
                      [class]='max(abs(br),abs(mc + c)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.h || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td>  
          <td class="cell"><button on="tap:AMP.setState({
                    br: br + g.p,
                    rc: rc + g.p,
                    bd: bd + g.p,
                    b: {
                      i: g[g.p]
                    },
                    g: {
                      p: g.p * -1
                    }
                  })" [text]='b.i ? b.i : ""'
                      [class]='max(abs(br),abs(rc), abs(bd + c)) == 3 ? "grid-button win" : "grid-button in-play"'
                      [disabled]='b.i || max(abs(tr),abs(br),abs(lc),abs(rc),abs(fd + c),abs(bd + c),abs(mc + c),abs(mr + c)) == 3'
                      class='grid-button in-play'
          ></button></td>  
        </tr>
      </table>
    </div>
    <div>
      <div class="controlboard">
        <button class="reset-button" on='tap:AMP.setState({
                      "g": {
                        "-1": "O",
                        "1": "⚡",
                        "p": 1  
                      },
                      tr: null,
                      mr: null,
                      br: null,
                      lc: null,
                      mc: null,
                      rc: null,
                      fd: null,
                      bd: null,
                      c: null,
                      b: null
                    })'>Restart game</button>
      </div>
    </div>
</section>
